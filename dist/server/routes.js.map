{"version":3,"sources":["routes.js"],"names":["errors","require","path","module","exports","app","use","get","post","route","req","res","sendFile","resolve"],"mappings":"AAAA;;;;AAIA;;AAEA,IAAIA,SAASC,QAAQ,qBAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;;AAEAE,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;AAC7B;AACAA,MAAIC,GAAJ,CAAQ,aAAR,EAAuBL,QAAQ,aAAR,CAAvB;;AAEA;AACE;AACAI,MAAIE,GAAJ,CAAQ,gCAAR,EAA0CN,QAAQ,qCAAR,CAA1C;AACAI,MAAIE,GAAJ,CAAQ,qDAAR,EAA+DN,QAAQ,qCAAR,CAA/D;AACAI,MAAIE,GAAJ,CAAQ,4CAAR,EAAsDN,QAAQ,qCAAR,CAAtD;AACAI,MAAIE,GAAJ,CAAQ,gCAAR,EAA0CN,QAAQ,kCAAR,CAA1C;AACAI,MAAIE,GAAJ,CAAQ,wCAAR,EAAkDN,QAAQ,iDAAR,CAAlD;;AAEA;AACAI,MAAIE,GAAJ,CAAQ,wCAAR,EAAkDN,QAAQ,8CAAR,CAAlD;AACAI,MAAIE,GAAJ,CAAQ,yCAAR,EAAmDN,QAAQ,kDAAR,CAAnD;AACAI,MAAIE,GAAJ,CAAQ,oDAAR,EAA8DN,QAAQ,kDAAR,CAA9D;;AAEF;AACEI,MAAIG,IAAJ,CAAS,sCAAT,EAAiDP,QAAQ,wCAAR,CAAjD;AACAI,MAAIG,IAAJ,CAAS,6CAAT,EAAwDP,QAAQ,yCAAR,CAAxD;;AAEF;AACEI,MAAIG,IAAJ,CAAS,qBAAT,EAAgCP,QAAQ,gCAAR,CAAhC;;AAEF;AACEI,MAAII,KAAJ,CAAU,0DAAV,EACAF,GADA,CACIP,OAAO,GAAP,CADJ;;AAKF;AACAK,MAAII,KAAJ,CAAU,IAAV,EACGF,GADH,CACO,UAACG,GAAD,EAAMC,GAAN,EAAc;AACjBA,QAAIC,QAAJ,CAAaV,KAAKW,OAAL,CAAgBR,IAAIE,GAAJ,CAAQ,SAAR,CAAhB,iBAAb;AACD,GAHH;AAID,CAnCD","file":"routes.js","sourcesContent":["/**\n * Main application routes\n */\n\n'use strict';\n\nvar errors = require('./components/errors');\nvar path = require('path');\n\nmodule.exports = function(app) {\n  // Insert routes below\n  app.use('/api/things', require('./api/thing'));\n\n  // Resources\n    // Coupons\n    app.get('/api/users/:userId/coupons/ids', require('./api/coupons/coupons.id.controller'));\n    app.get('/api/users/:userId/coupons/ids/:maxResults/:company', require('./api/coupons/coupons.id.controller'));\n    app.get('/api/users/:userId/coupons/ids/:maxResults', require('./api/coupons/coupons.id.controller'));\n    app.get('/api/users/:userId/coupons/:id', require('./api/coupons/coupons.controller'));\n    app.get('/api/users/:userId/coupons/minimal/:id', require('./api/coupons/minimal/minimal-coupon.controller'));\n\n    // Companies\n    app.get('/api/users/:userId/coupons/company/:id', require('./api/coupons/coupons.companyname.controller'));\n    app.get('/api/users/:userId/companies/:beforeDay', require('./api/companies/companies-all-coupons.controller'));\n    app.get('/api/users/:userId/companies/newCoupons/:beforeDay', require('./api/companies/companies-new-coupons.controller'));\n\n  // Modification\n    app.post('/api/users/:userId/coupons/trash/:id', require('./api/coupons/trash-coupons.controller'));\n    app.post('/api/users/:userId/coupons/modify_label/:id', require('./api/coupons/modify-coupons.controller'));\n\n  // Authentication\n    app.post('/api/auth/authcode/', require('./api/auth/authcode.controller'));\n\n  // All undefined asset or api routes should return a 404\n    app.route('/:url(api|auth|components|app|bower_components|assets)/*')\n   .get(errors[404]);\n\n\n\n  // All other routes should redirect to the index.html\n  app.route('/*')\n    .get((req, res) => {\n      res.sendFile(path.resolve(`${app.get('appPath')}/index.html`));\n    });\n};\n"]}