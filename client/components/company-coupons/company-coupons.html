<!DOCTYPE html>
<html lang="en">
<div class="container">
  <div class="row">

    <div class="col-md-10 col-md-offset-1">
      <div class="panel panel-default panel-table">
        <div class="panel-heading">
          <div class="row">
            <div class="col col-xs-6">
              <h3 class="panel-title">Company Coupons</h3>
            </div>
            <div class="col col-xs-6 text-right">
              <button
                type="button"
                class="btn btn-sm btn-primary btn-create"
                ng-click="$ctrl.viewAllCompanyCoupons()">
                View All
              </button>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <table class="table table-striped table-bordered table-list">
            <thead>
            <tr>
              <th>
                <i align="center" class="glyphicon glyphicon-thumbs-up"></i>
              </th>
              <th>
                <b align="center">Logo</b>
              </th>
              <th>
                <b align="center">Name</b>
              </th>
              <th>
                <b align="center">Total</b>
              </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="company in $ctrl.getCompaniesPerPage($ctrl.currentPageNumber)">

              <td class="col-check" align="center">
                <input type="checkbox"
                       ng-checked="$ctrl.selectedCouponsCompanyNames.indexOf(company) != -1"
                       ng-click="$ctrl.updateCouponsForCompanies(company.name, company.domain, company.usedCouponsIds)"
                />
              </td>
              <td align="center">
                <img class="roundlogo" src="https://logo.clearbit.com/{{company.domain}}" height="45px" width="45px"/>
              </td>
              <td align="center">
                <b>{{company.name}}</b>
              </td>
              <td align="center">
                <b>{{company.usedTotalCoupons}}</b>
              </td>

            </tr>
            </tbody>
          </table>
        </div>

        <div class="panel-footer">
          <div class="row">
            <div class="col col-xs-offset-3 col-xs-6">
              <nav aria-label="Page navigation" class="text-center">
                <ul class="pagination">

                  <li ng-class="{disabled: $ctrl.currentPageNumber <= 1}">
                    <a href ng-click="$ctrl.setEachPage($ctrl.currentPageNumber - 1)">«</a>
                  </li>

                  <li ng-repeat="pageNumber in $ctrl.getCompanyPages() track by $index"
                      ng-class="{active: $ctrl.currentPageNumber === $index+1}">
                    <a ng-click="$ctrl.setEachPage($index+1)">{{$index+1}}</a>
                  </li>

                  <li ng-class="{disabled: $ctrl.currentPageNumber >= $ctrl.totalPagesNumber}">
                    <a href ng-click="$ctrl.setEachPage($ctrl.currentPageNumber + 1)">»</a>
                  </li>

                </ul>
              </nav>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

</html>
